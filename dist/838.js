"use strict";(self.webpackChunksleact=self.webpackChunksleact||[]).push([[838],{2838:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ue}});var r=n(1053),a=(0,r.Z)("div",{target:"e1crh0fm1"})({name:"10w7pu7",styles:"position:fixed;text-align:center;left:0;bottom:0;top:0;right:0;z-index:1022;&>div{margin-top:200px;display:inline-block;width:440px;background:white;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 4px 12px 0 rgba(0, 0, 0, 0.12);background-color:rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);border-radius:6px;user-select:none;max-width:440px;padding:30px 40px 0;z-index:1012;position:relative;}"}),o=(0,r.Z)("button",{target:"e1crh0fm0"})({name:"19gmbxq",styles:"position:absolute;right:10px;top:6px;background:transparent;border:none;font-size:30px;cursor:pointer"}),l=n(7294),i=function(e){var t=e.show,n=e.children,r=e.onCloseModal,i=(0,l.useCallback)((function(e){e.stopPropagation()}),[]);return t?l.createElement(a,{onClick:r},l.createElement("div",{onClick:i},l.createElement(o,{onClick:r},"×"),n)):null},c=n(8678),s=n(3046),u=n(3564),d=n(1817),p=n(6550),f=n(6042),m=n(5591);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t,n,r=e.show,a=e.onCloseModal,o=e.setShowCreateChannelModal,g=(0,p.UO)(),b=g.workspace,v=(g.channel,t=(0,c.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],x=v[1],w=v[2],k=(0,m.ZP)("/api/users",u.Z),E=k.data,S=(k.mutate,(0,m.ZP)(E?"/api/workspaces/".concat(b,"/channels"):null,u.Z)),C=(S.data,S.mutate),Z=(0,l.useCallback)((function(e){e.preventDefault(),d.Z.post("/api/workspaces/".concat(b,"/channels"),{name:y},{withCredentials:!0}).then((function(){o(!1),C(),w("")})).catch((function(e){var t;console.dir(e),f.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[y]);return l.createElement(i,{show:r,onCloseModal:a},l.createElement("form",{onSubmit:Z},l.createElement(s.__,{id:"channel-label"},l.createElement("span",null,"채널"),l.createElement(s.II,{id:"channel",value:y,onChange:x})),l.createElement(s.zx,{type:"submit"},"생성하기")))},b=(0,r.Z)("button",{target:"e1ohd6590"})("background:transparent;border:none;width:26px;height:26px;display:inline-flex;justify-content:center;align-items:center;color:white;margin-left:10px;cursor:pointer;",(function(e){return e.collapse&&"\n    & i {\n      transform: none;\n    }\n  "}),";"),v=n(3727),y=function(e){var t=e.member,n=e.isOnline,r=(0,p.UO)().workspace,a=(0,p.TH)(),o=(0,m.ZP)("/api/users",u.Z,{dedupingInterval:2e3}).data,i=localStorage.getItem("".concat(r,"-").concat(t.id))||0,c=(0,m.ZP)(o?"/api/workspaces/".concat(r,"/dms/").concat(t.id,"/unreads?after=").concat(i):null,u.Z),s=c.data,d=c.mutate;return(0,l.useEffect)((function(){a.pathname==="/workspace/".concat(r,"/dm/").concat(t.id)&&d(0)}),[d,a.pathname,r,t]),l.createElement(v.OL,{key:t.id,activeClassName:"selected",to:"/workspace/".concat(r,"/dm/").concat(t.id)},l.createElement("i",{className:"c-icon p-channel_sidebar__presence_icon p-channel_sidebar__presence_icon--dim_enabled c-presence ".concat(n?"c-presence--active c-icon--presence-online":"c-icon--presence-offline"),"aria-hidden":"true","data-qa":"presence_indicator","data-qa-presence-self":"false","data-qa-presence-active":"false","data-qa-presence-dnd":"false"}),l.createElement("span",{className:s&&s>0?"bold":void 0},t.nickname),t.id===(null==o?void 0:o.id)&&l.createElement("span",null," (나)"),s&&s>0&&l.createElement("span",{className:"count"},s)||null)},x=n(3992),w={},k=function(e){console.log("render",e);var t=(0,l.useCallback)((function(){e&&(w[e].disconnect(),delete w[e])}),[e]);return e?(w[e]||(w[e]=(0,x.ZP)("".concat("http://localhost:3095","/ws-").concat(e),{transports:["websocket"]}),console.info("create socket",e,w[e])),[w[e],t]):[void 0,t]};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(){var e=(0,p.UO)().workspace,t=(0,m.ZP)("/api/users",u.Z,{dedupingInterval:2e3}).data,n=(0,m.ZP)(t?"/api/workspaces/".concat(e,"/members"):null,u.Z).data,r=E(k(e),1)[0],a=E((0,l.useState)(!1),2),o=a[0],i=a[1],c=E((0,l.useState)([]),2),s=c[0],d=c[1],f=(0,l.useCallback)((function(){i((function(e){return!e}))}),[]);return(0,l.useEffect)((function(){console.log("DMList: workspace 바꼈다",e),d([])}),[e]),(0,l.useEffect)((function(){return null==r||r.on("onlineList",(function(e){d(e)})),console.log("socket on dm",null==r?void 0:r.hasListeners("dm"),r),function(){console.log("socket off dm",null==r?void 0:r.hasListeners("dm")),null==r||r.off("onlineList")}}),[r]),l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(b,{collapse:o,onClick:f},l.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),l.createElement("span",null,"Direct Messages")),l.createElement("div",null,!o&&(null==n?void 0:n.map((function(e){var t=s.includes(e.id);return l.createElement(y,{key:e.id,member:e,isOnline:t})})))))},Z=function(e){var t=e.channel,n=(0,p.UO)().workspace,r=(0,p.TH)(),a=(0,m.ZP)("/api/users",u.Z,{dedupingInterval:2e3}).data,o=localStorage.getItem("".concat(n,"-").concat(t.name))||0,i=(0,m.ZP)(a?"/api/workspaces/".concat(n,"/channels/").concat(t.name,"/unreads?after=").concat(o):null,u.Z),c=i.data,s=i.mutate;return(0,l.useEffect)((function(){r.pathname==="/workspace/".concat(n,"/channel/").concat(t.name)&&s(0)}),[s,r.pathname,n,t]),l.createElement(v.OL,{key:t.name,activeClassName:"selected",to:"/workspace/".concat(n,"/channel/").concat(t.name)},l.createElement("span",{className:void 0!==c&&c>0?"bold":void 0},"# ",t.name),void 0!==c&&c>0&&l.createElement("span",{className:"count"},c))};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){var e,t,n=(0,p.UO)().workspace,r=(e=(0,l.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1],i=(0,m.ZP)("/api/users",u.Z,{dedupingInterval:2e3}).data,c=(0,m.ZP)(i?"/api/workspaces/".concat(n,"/channels"):null,u.Z).data,s=(0,l.useCallback)((function(){o((function(e){return!e}))}),[]);return l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(b,{collapse:a,onClick:s},l.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),l.createElement("span",null,"Channels")),l.createElement("div",null,!a&&(null==c?void 0:c.map((function(e){return l.createElement(Z,{key:e.id,channel:e})})))))};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t,n,r=e.show,a=e.onCloseModal,o=e.setShowInviteChannelModal,h=(0,p.UO)(),g=h.workspace,b=h.channel,v=(t=(0,c.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],x=v[1],w=v[2],k=(0,m.ZP)("/api/users",u.Z).data,E=(0,m.ZP)(k?"/api/workspaces/".concat(g,"/channel/").concat(b,"/members"):null,u.Z).mutate,S=(0,l.useCallback)((function(e){e.preventDefault(),y&&y.trim()&&d.Z.post("/api/workspaces/".concat(g,"/channels/").concat(b,"/members"),{email:y}).then((function(){E(),o(!1),w("")})).catch((function(e){var t;console.dir(e),f.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[b,y,E,w,o,g]);return l.createElement(i,{show:r,onCloseModal:a},l.createElement("form",{onSubmit:S},l.createElement(s.__,{id:"member-label"},l.createElement("span",null,"채널 멤버 초대"),l.createElement(s.II,{id:"member",value:y,onChange:x})),l.createElement(s.zx,{type:"submit"},"초대하기")))};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t,n,r=e.show,a=e.onCloseModal,o=e.setShowInviteWorkspaceModal,h=(0,p.UO)().workspace,g=(t=(0,c.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=g[0],v=g[1],y=g[2],x=(0,m.ZP)("/api/users",u.Z).data,w=(0,m.ZP)(x?"/api/workspaces/".concat(h,"/members"):null,u.Z).mutate,k=(0,l.useCallback)((function(e){e.preventDefault(),b&&b.trim()&&d.Z.post("/api/workspaces/".concat(h,"/members"),{email:b}).then((function(){w(),o(!1),y("")})).catch((function(e){var t;console.dir(e),f.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[b,h,w,o,y]);return l.createElement(i,{show:r,onCloseModal:a},l.createElement("form",{onSubmit:k},l.createElement(s.__,{id:"member-label"},l.createElement("span",null,"이메일"),l.createElement(s.II,{id:"member",type:"email",value:b,onChange:v})),l.createElement(s.zx,{type:"submit"},"초대하기")))},M=(0,r.Z)("div",{target:"e1eex9go1"})({name:"3nqusf",styles:"position:fixed;top:0;right:0;left:0;bottom:0;z-index:1000;&>div{position:absolute;display:inline-block;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 4px 12px 0 rgba(0, 0, 0, 0.12);background-color:rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);border-radius:6px;user-select:none;min-width:360px;z-index:512;max-height:calc(100vh - 20px);color:rgb(29, 28, 29);}"}),z=(0,r.Z)("button",{target:"e1eex9go0"})({name:"19gmbxq",styles:"position:absolute;right:10px;top:6px;background:transparent;border:none;font-size:30px;cursor:pointer"}),P=function(e){var t=e.closeButton,n=e.style,r=e.show,a=e.children,o=e.onCloseModal,i=(0,l.useCallback)((function(e){e.stopPropagation()}),[]);return r?l.createElement(M,{onClick:o},l.createElement("div",{onClick:i,style:n},t&&l.createElement(z,{onClick:o},"×"),a)):null};P.defaultProps={closeButton:!0};var D=P,U=n(5802),N=(0,r.Z)("div",{target:"eluud7k5"})({name:"ra6cyy",styles:"display:flex;width:100%;padding:20px;padding-top:0"}),q=(0,r.Z)("form",{target:"eluud7k4"})({name:"33ihw2",styles:"color:rgb(29, 28, 29);font-size:15px;width:100%;border-radius:4px;border:1px solid rgb(29, 28, 29)"}),B=(0,r.Z)(U.r,{target:"eluud7k3"})({name:"bka2jr",styles:"font-family:Slack-Lato,appleLogo,sans-serif;font-size:15px;padding:8px 9px;width:100%;& strong{background:skyblue;}& textarea{height:44px;padding:9px 10px!important;outline:none!important;border-radius:4px!important;resize:none!important;line-height:22px;border:none;}& ul{border:1px solid lightgray;max-height:200px;overflow-y:auto;padding:9px 10px;background:white;border-radius:4px;width:150px;}"}),R=(0,r.Z)("div",{target:"eluud7k2"})({name:"13ie2qx",styles:"position:relative;background:rgb(248, 248, 248);height:41px;display:flex;border-top:1px solid rgb(221, 221, 221);align-items:center;border-bottom-left-radius:4px;border-bottom-right-radius:4px"}),F=(0,r.Z)("button",{target:"eluud7k1"})({name:"xrrdm2",styles:"position:absolute;right:5px;top:5px"}),$=(0,r.Z)("button",{target:"eluud7k0"})("padding:4px 20px;background:transparent;border:none;display:flex;align-items:center;color:rgb(28, 29, 28);width:100%;& img{margin-right:5px;}",(function(e){return e.focus&&"\n    background: #1264a3;\n    color: white;\n  "}),";"),H=n(3682),L=n(6182),W=n.n(L),V=function(e){var t=e.onSubmitForm,n=e.chat,r=e.onChangeChat,a=e.placeholder,o=e.data,i=(0,l.useRef)(null);(0,l.useEffect)((function(){i.current&&(0,H.Z)(i.current)}),[]);var c=(0,l.useCallback)((function(e){"Enter"===e.key&&(e.shiftKey||(e.preventDefault(),t(e)))}),[t]),s=(0,l.useCallback)((function(e,t,n,r,a){return o?l.createElement($,{focus:a},l.createElement("img",{src:W().url(o[r].email,{s:"20px",d:"retro"}),alt:o[r].nickname}),l.createElement("span",null,n)):null}),[o]);return l.createElement(N,null,l.createElement(q,{onSubmit:t},l.createElement(B,{id:"editor-chat",value:n,onChange:r,onKeyPress:c,placeholder:a,inputRef:i,allowSuggestionsAboveCursor:!0},l.createElement(U.p,{appendSpaceOnAdd:!0,trigger:"@",data:(null==o?void 0:o.map((function(e){return{id:e.id,display:e.nickname}})))||[],renderSuggestion:s})),l.createElement(R,null,l.createElement(F,{className:"c-button-unstyled c-icon_button c-icon_button--light c-icon_button--size_medium c-texty_input__button c-texty_input__button--send"+(null!=n&&n.trim()?"":" c-texty_input__button--disabled"),"data-qa":"texty_send_button","aria-label":"Send message","data-sk":"tooltip_parent",type:"submit",disabled:!(null!=n&&n.trim())},l.createElement("i",{className:"c-icon c-icon--paperplane-filled","aria-hidden":"true"})))))},Y=(0,r.Z)("div",{target:"e1f7j5480"})({name:"2yhi1c",styles:"display:flex;padding:8px 20px;&:hover{background:#eee;}& .chat-img{display:flex;width:36px;margin-right:8px;& img{width:36px;height:36px;}}& .chat-text{display:flex;flex-wrap:wrap;flex:1;& p{flex:0 0 100%;margin:0;}}& .chat-user{display:flex;flex:0 0 100%;align-items:center;&>b{margin-right:5px;}&>span{font-size:12px;}}& a{text-decoration:none;color:deepskyblue;}"}),K=n(7484),G=n.n(K),J=n(8817),Q=function(e){var t=e.data,n=(0,p.UO)().workspace,r="Sender"in t?t.Sender:t.User,a=(0,l.useMemo)((function(){return(0,J.Z)({input:t.content,pattern:/@\[(.+?)]\((\d+?)\)|\n/g,decorator:function(e,t){var r=e.match(/@\[(.+?)]\((\d+?)\)|\n/);return r?l.createElement(v.rU,{key:e+t,to:"/workspace/".concat(n,"/dm/").concat(r[2])},"@",r[1]):l.createElement("br",{key:t})}})}),[t.content]);return l.createElement(Y,null,l.createElement("div",{className:"chat-img"},l.createElement("img",{src:W().url(r.email,{s:"36px",d:"retro"}),alt:r.nickname})),l.createElement("div",{className:"chat-text"},l.createElement("div",{className:"chat-user"},l.createElement("b",null,r.nickname),l.createElement("span",null,G()(t.createdAt).toString())),l.createElement("p",null,a)))},X=(0,l.memo)(Q),ee=(0,r.Z)("div",{target:"etzj9612"})({name:"1op36e9",styles:"width:100%;display:flex;flex:1"}),te=(0,r.Z)("section",{target:"etzj9611"})({name:"10zp55f",styles:"margin-top:20px;border-top:1px solid #eee"}),ne=(0,r.Z)("div",{target:"etzj9610"})({name:"16cu5ak",styles:"display:flex;justify-content:center;flex:1;width:100%;position:sticky;top:14px;& button{font-weight:bold;font-size:13px;height:28px;line-height:27px;padding:0 16px;z-index:2;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 1px 3px 0 rgba(0, 0, 0, 0.08);border-radius:24px;position:relative;top:-13px;background:white;border:none;outline:none;}"}),re=n(1298);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(e){var t=e.scrollbarRef,n=e.isReachingEnd,r=e.isEmpty,a=e.chatSections,o=e.setSize,i=(0,l.useCallback)((function(e){0!==e.scrollTop||n||r||o((function(e){return e+1})).then((function(){var n,r;null===(n=t.current)||void 0===n||n.scrollTop((null===(r=t.current)||void 0===r?void 0:r.getScrollHeight())-e.scrollHeight)}))}),[o,t,n,r]);return l.createElement(ee,null,l.createElement(re.$B,{autoHide:!0,ref:t,onScrollFrame:i},Object.entries(a).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1];return l.createElement(te,{className:"section-".concat(a),key:a},l.createElement(ne,null,l.createElement("button",null,a)),o.map((function(e){return l.createElement(X,{key:e.id,data:e})})))}))))},le=(0,r.Z)("div",{target:"ekd4ibz2"})({name:"1a0r0eh",styles:"display:flex;flex-wrap:wrap;height:calc(100vh - 38px);flex-flow:column;position:relative"}),ie=(0,r.Z)("header",{target:"ekd4ibz1"})({name:"1thq1gs",styles:"height:64px;display:flex;width:100%;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 1px 0 var(--saf-0);padding:20px 16px 20px 20px;font-weight:bold;align-items:center"}),ce=(0,r.Z)("div",{target:"ekd4ibz0"})({name:"czjct4",styles:"position:absolute;top:64px;left:0;width:100%;height:calc(100% - 64px);background:white;opacity:0.7;display:flex;align-items:center;justify-content:center;font-size:40px"});function se(e){var t={};return e.forEach((function(e){var n=G()(e.createdAt).format("YYYY-MM-DD");Array.isArray(t[n])?t[n].push(e):t[n]=[e]})),t}var ue=n(4593);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=function(){var e,t,n,r=(0,p.UO)(),a=r.workspace,o=r.channel,i=de(k(a),1)[0],s=(0,m.ZP)("/api/users",u.Z).data,h=(0,m.ZP)("/api/workspaces/".concat(a,"/channels"),u.Z).data,g=null==h?void 0:h.find((function(e){return e.name===o})),b=(0,ue.ZP)((function(e){return"/api/workspaces/".concat(a,"/channels/").concat(o,"/chats?perPage=").concat(20,"&page=").concat(e+1)}),u.Z,{onSuccess:function(e){1===(null==e?void 0:e.length)&&setTimeout((function(){var e;null===(e=O.current)||void 0===e||e.scrollToBottom()}),100)}}),v=b.data,y=b.mutate,x=b.setSize,w=(0,m.ZP)(s?"/api/workspaces/".concat(a,"/channels/").concat(o,"/members"):null,u.Z).data,E=de((0,c.Z)(""),3),S=E[0],C=E[1],Z=E[2],_=de((0,l.useState)(!1),2),A=_[0],j=_[1],O=(0,l.useRef)(null),T=de((0,l.useState)(!1),2),M=T[0],z=T[1],P=0===(null==v||null===(e=v[0])||void 0===e?void 0:e.length),D=P||v&&(null===(t=v[v.length-1])||void 0===t?void 0:t.length)<20,U=(0,l.useCallback)((function(){j(!1)}),[]),N=(0,l.useCallback)((function(e){if(e.preventDefault(),null!=S&&S.trim()&&v&&g&&s){var t=S;y((function(e){var n;return null==e||e[0].unshift({id:((null===(n=v[0][0])||void 0===n?void 0:n.id)||0)+1,content:t,UserId:s.id,User:s,createdAt:new Date,ChannelId:g.id,Channel:g}),e}),!1).then((function(){var e;localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString()),Z(""),O.current&&(console.log("scrollToBottom!",null===(e=O.current)||void 0===e?void 0:e.getValues()),O.current.scrollToBottom())})),d.Z.post("/api/workspaces/".concat(a,"/channels/").concat(o,"/chats"),{content:t}).catch(console.error)}}),[S,a,o,g,s,v,y,Z]),q=(0,l.useCallback)((function(e){e.Channel.name===o&&(e.content.startsWith("uploads\\")||e.content.startsWith("uploads/")||e.UserId!==(null==s?void 0:s.id))&&y((function(t){return null==t||t[0].unshift(e),t}),!1).then((function(){var e;O.current&&(O.current.getScrollHeight()<O.current.getClientHeight()+O.current.getScrollTop()+150?(console.log("scrollToBottom!",null===(e=O.current)||void 0===e?void 0:e.getValues()),setTimeout((function(){var e;null===(e=O.current)||void 0===e||e.scrollToBottom()}),100)):f.Am.success("새 메시지가 도착했습니다.",{onClick:function(){var e;null===(e=O.current)||void 0===e||e.scrollToBottom()},closeOnClick:!0}))}))}),[o,s,y]);(0,l.useEffect)((function(){return null==i||i.on("message",q),function(){null==i||i.off("message",q)}}),[i,q]),(0,l.useEffect)((function(){localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString())}),[a,o]);var B=(0,l.useCallback)((function(){j(!0)}),[]),R=(0,l.useCallback)((function(e){e.preventDefault(),console.log(e);var t=new FormData;if(e.dataTransfer.items){for(var n=0;n<e.dataTransfer.items.length;n++)if(console.log(e.dataTransfer.items[n]),"file"===e.dataTransfer.items[n].kind){var r=e.dataTransfer.items[n].getAsFile();console.log(e,".... file["+n+"].name = "+r.name),t.append("image",r)}}else for(var l=0;l<e.dataTransfer.files.length;l++)console.log(e,"... file["+l+"].name = "+e.dataTransfer.files[l].name),t.append("image",e.dataTransfer.files[l]);d.Z.post("/api/workspaces/".concat(a,"/channels/").concat(o,"/images"),t).then((function(){z(!1),localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString())}))}),[a,o]),F=(0,l.useCallback)((function(e){e.preventDefault(),console.log(e),z(!0)}),[]);if(h&&!g)return l.createElement(p.l_,{to:"/workspace/".concat(a,"/channel/일반")});var $,H=se(v?(n=[]).concat.apply(n,($=v,function(e){if(Array.isArray(e))return fe(e)}($)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}($)||pe($)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).reverse():[]);return l.createElement(le,{onDrop:R,onDragOver:F},l.createElement(ie,null,l.createElement("span",null,"#",o),l.createElement("div",{style:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center"}},l.createElement("span",null,null==w?void 0:w.length),l.createElement("button",{onClick:B,className:"c-button-unstyled p-ia__view_header__button","aria-label":"Add people to #react-native","data-sk":"tooltip_parent",type:"button"},l.createElement("i",{className:"c-icon p-ia__view_header__button_icon c-icon--add-user","aria-hidden":"true"})))),l.createElement(oe,{scrollbarRef:O,isReachingEnd:D,isEmpty:P,chatSections:H,setSize:x}),l.createElement(V,{onSubmitForm:N,chat:S,onChangeChat:C,placeholder:"Message #".concat(o),data:w}),l.createElement(I,{show:A,onCloseModal:U,setShowInviteChannelModal:j}),l.createElement(f.Ix,{position:"bottom-center"}),M&&l.createElement(ce,null,"업로드!"))},he=(0,r.Z)("div",{target:"e1mpeplf1"})({name:"1a0r0eh",styles:"display:flex;flex-wrap:wrap;height:calc(100vh - 38px);flex-flow:column;position:relative"}),ge=(0,r.Z)("header",{target:"e1mpeplf0"})({name:"1c17pcy",styles:"height:64px;display:flex;width:100%;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 1px 0 var(--saf-0);padding:20px 16px 20px 20px;font-weight:bold;align-items:center;& img{margin-right:5px;}"});function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(e,t)||ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(){var e,t,n,r=(0,p.UO)(),a=r.workspace,o=r.id,i=be(k(a),1)[0],s=(0,m.ZP)("/api/users",u.Z).data,h=(0,m.ZP)("/api/workspaces/".concat(a,"/users/").concat(o),u.Z).data,g=(0,ue.ZP)((function(e){return"/api/workspaces/".concat(a,"/dms/").concat(o,"/chats?perPage=").concat(20,"&page=").concat(e+1)}),u.Z,{onSuccess:function(e){1===(null==e?void 0:e.length)&&setTimeout((function(){var e;null===(e=C.current)||void 0===e||e.scrollToBottom()}),100)}}),b=g.data,v=g.mutate,y=g.setSize,x=be((0,c.Z)(""),3),w=x[0],E=x[1],S=x[2],C=(0,l.useRef)(null),Z=be((0,l.useState)(!1),2),_=Z[0],A=Z[1],j=0===(null==b||null===(e=b[0])||void 0===e?void 0:e.length),I=j||b&&(null===(t=b[b.length-1])||void 0===t?void 0:t.length)<20,O=(0,l.useCallback)((function(e){if(e.preventDefault(),null!=w&&w.trim()&&b){var t=w;v((function(e){var n;return null==e||e[0].unshift({id:((null===(n=b[0][0])||void 0===n?void 0:n.id)||0)+1,content:t,SenderId:s.id,Sender:s,ReceiverId:h.id,Receiver:h,createdAt:new Date}),e}),!1).then((function(){var e;localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString()),S(""),C.current&&(console.log("scrollToBottom!",null===(e=C.current)||void 0===e?void 0:e.getValues()),C.current.scrollToBottom())})),d.Z.post("/api/workspaces/".concat(a,"/dms/").concat(o,"/chats"),{content:w}).catch(console.error)}}),[w,a,o,s,h,b,v,S]),T=(0,l.useCallback)((function(e){e.SenderId===Number(o)&&s.id!==Number(o)&&v((function(t){return null==t||t[0].unshift(e),t}),!1).then((function(){var e;C.current&&(C.current.getScrollHeight()<C.current.getClientHeight()+C.current.getScrollTop()+150?(console.log("scrollToBottom!",null===(e=C.current)||void 0===e?void 0:e.getValues()),setTimeout((function(){var e;null===(e=C.current)||void 0===e||e.scrollToBottom()}),100)):f.Am.success("새 메시지가 도착했습니다.",{onClick:function(){var e;null===(e=C.current)||void 0===e||e.scrollToBottom()},closeOnClick:!0}))}))}),[o,s,v]);(0,l.useEffect)((function(){return null==i||i.on("dm",T),function(){null==i||i.off("dm",T)}}),[i,T]),(0,l.useEffect)((function(){localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString())}),[a,o]);var M=(0,l.useCallback)((function(e){e.preventDefault(),console.log(e);var t=new FormData;if(e.dataTransfer.items){for(var n=0;n<e.dataTransfer.items.length;n++)if("file"===e.dataTransfer.items[n].kind){var r=e.dataTransfer.items[n].getAsFile();console.log("... file["+n+"].name = "+r.name),t.append("image",r)}}else for(var l=0;l<e.dataTransfer.files.length;l++)console.log("... file["+l+"].name = "+e.dataTransfer.files[l].name),t.append("image",e.dataTransfer.files[l]);d.Z.post("/api/workspaces/".concat(a,"/dms/").concat(o,"/images"),t).then((function(){A(!1),localStorage.setItem("".concat(a,"-").concat(o),(new Date).getTime().toString()),v()}))}),[a,o,v]),z=(0,l.useCallback)((function(e){e.preventDefault(),console.log(e),A(!0)}),[]);if(!h||!s)return null;var P,D=se(b?(n=[]).concat.apply(n,(P=b,function(e){if(Array.isArray(e))return ye(e)}(P)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(P)||ve(P)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).reverse():[]);return l.createElement(he,{onDrop:M,onDragOver:z},l.createElement(ge,null,l.createElement("img",{src:W().url(h.email,{s:"24px",d:"retro"}),alt:h.nickname}),l.createElement("span",null,h.nickname)),l.createElement(oe,{scrollbarRef:C,isReachingEnd:I,isEmpty:j,chatSections:D,setSize:y}),l.createElement(V,{onSubmitForm:O,chat:w,onChangeChat:E,placeholder:"Message ".concat(h.nickname)}),_&&l.createElement(ce,null,"업로드!"))};n(5202);var we=(0,r.Z)("div",{target:"e1fj5kb913"})({name:"tjo4qw",styles:"float:right"}),ke=(0,r.Z)("header",{target:"e1fj5kb912"})({name:"fvf0bi",styles:"height:38px;background:#350d36;color:#ffffff;box-shadow:0 1px 0 0 rgba(255, 255, 255, 0.1);padding:5px;text-align:center"}),Ee=(0,r.Z)("img",{target:"e1fj5kb911"})({name:"1ly4jlu",styles:"width:28px;height:28px;position:absolute;top:5px;right:16px"}),Se=(0,r.Z)("div",{target:"e1fj5kb910"})({name:"47px7v",styles:"display:flex;padding:20px;& img{display:flex;}&>div{display:flex;flex-direction:column;margin-left:10px;}& #profile-name{font-weight:bold;display:inline-flex;}& #profile-active{font-size:13px;display:inline-flex;}"}),Ce=(0,r.Z)("button",{target:"e1fj5kb99"})({name:"bl1q1k",styles:"border:none;width:100%;border-top:1px solid rgb(29, 28, 29);background:transparent;display:block;height:33px;padding:5px 20px 5px;outline:none;cursor:pointer"}),Ze=(0,r.Z)("div",{target:"e1fj5kb98"})({name:"36bnqj",styles:"display:flex;flex:1"}),_e=(0,r.Z)("div",{target:"e1fj5kb97"})({name:"17lvj7e",styles:"width:65px;display:inline-flex;flex-direction:column;align-items:center;background:#3f0e40;border-top:1px solid rgb(82, 38, 83);border-right:1px solid rgb(82, 38, 83);vertical-align:top;text-align:center;padding:15px 0 0"}),Ae=(0,r.Z)("nav",{target:"e1fj5kb96"})({name:"2pkygn",styles:"width:260px;display:inline-flex;flex-direction:column;background:#3f0e40;color:rgb(188, 171, 188);vertical-align:top;& a{padding-left:36px;color:inherit;text-decoration:none;height:28px;line-height:28px;display:flex;align-items:center;&.selected{color:white;}}& .bold{color:white;font-weight:bold;}& .count{margin-left:auto;background:#cd2553;border-radius:16px;display:inline-block;font-size:12px;font-weight:700;height:18px;line-height:18px;padding:0 9px;color:white;margin-right:16px;}& h2{height:36px;line-height:36px;margin:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:15px;}"}),je=(0,r.Z)("button",{target:"e1fj5kb95"})({name:"1rmthq7",styles:"height:64px;line-height:64px;border:none;width:100%;text-align:left;border-top:1px solid rgb(82, 38, 83);border-bottom:1px solid rgb(82, 38, 83);font-weight:900;font-size:24px;background:transparent;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:0;padding-left:16px;margin:0;color:white;cursor:pointer"}),Ie=(0,r.Z)("div",{target:"e1fj5kb94"})({name:"1146j5j",styles:"height:calc(100vh - 102px);overflow-y:auto"}),Oe=(0,r.Z)("div",{target:"e1fj5kb93"})({name:"192o1ir",styles:"padding:10px 0 0;& h2{padding-left:20px;}&>button{width:100%;height:28px;padding:4px;border:none;background:transparent;border-top:1px solid rgb(28, 29, 28);cursor:pointer;&:last-of-type{border-bottom:1px solid rgb(28, 29, 28);}}"}),Te=(0,r.Z)("div",{target:"e1fj5kb92"})({name:"82a6rk",styles:"flex:1"}),Me=(0,r.Z)("button",{target:"e1fj5kb91"})({name:"9tlmej",styles:"color:white;font-size:24px;display:inline-block;width:40px;height:40px;background:transparent;border:none;cursor:pointer"}),ze=(0,r.Z)("button",{target:"e1fj5kb90"})({name:"wsqixl",styles:"display:inline-block;width:40px;height:40px;border-radius:10px;background:white;border:3px solid #3f0e40;margin-bottom:15px;font-size:18px;font-weight:700;color:black;cursor:pointer"});function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=function(){var e,t,n,r,a,o=Pe((0,l.useState)(!1),2),h=o[0],b=o[1],y=Pe((0,l.useState)(!1),2),x=y[0],w=y[1],E=Pe((0,l.useState)(!1),2),S=E[0],Z=E[1],_=Pe((0,l.useState)(!1),2),j=_[0],O=_[1],M=Pe((0,l.useState)(!1),2),z=M[0],P=M[1],U=Pe((0,l.useState)(!1),2),N=U[0],q=U[1],B=Pe((0,c.Z)(""),3),R=B[0],F=B[1],$=B[2],H=Pe((0,c.Z)(""),3),L=H[0],V=H[1],Y=H[2],K=(0,p.UO)().workspace,G=(0,m.ZP)("/api/users",u.Z),J=G.data,Q=G.mutate,X=(0,m.ZP)(J?"/api/workspaces/".concat(K,"/channels"):null,u.Z).data,ee=(0,m.ZP)(J?"/api/workspaces/".concat(K,"/members"):null,u.Z),te=(ee.data,ee.mutate,Pe(k(K),2)),ne=te[0],re=te[1];(0,l.useEffect)((function(){X&&J&&ne&&(console.log(ne),ne.emit("login",{id:J.id,channels:X.map((function(e){return e.id}))}))}),[ne,X,J]),(0,l.useEffect)((function(){return function(){re()}}),[K,re]);var ae=(0,l.useCallback)((function(){d.Z.post("/api/users/logout").then((function(){Q()})).catch((function(e){var t;console.dir(e),f.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[]),oe=(0,l.useCallback)((function(e){e.preventDefault(),R&&R.trim()&&L&&L.trim()&&d.Z.post("/api/workspaces",{workspace:R,url:L}).then((function(){Q(),b(!1),$(""),Y("")})).catch((function(e){var t;console.dir(e),f.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[R,L]),le=(0,l.useCallback)((function(){b(!0)}),[]),ie=(0,l.useCallback)((function(){O(!0)}),[]),ce=(0,l.useCallback)((function(){w(!0)}),[]),se=(0,l.useCallback)((function(){b(!1),O(!1),w(!1),Z(!1)}),[]),ue=(0,l.useCallback)((function(){P((function(e){return!e}))}),[]),de=(0,l.useCallback)((function(){q((function(e){return!e}))}),[]);return!1===J?l.createElement(p.l_,{to:"/login"}):l.createElement("div",null,l.createElement(ke,null,J&&l.createElement(we,null,l.createElement("span",{onClick:ue},l.createElement(Ee,{src:W().url(J.email,{s:"28px",d:"retro"}),alt:J.nickname})),z&&l.createElement(D,{style:{right:0,top:38},show:z,onCloseModal:ue},l.createElement(Se,null,l.createElement("img",{src:W().url(J.email,{s:"36px",d:"retro"}),alt:J.nickname}),l.createElement("div",null,l.createElement("span",{id:"profile-name"},J.nickname),l.createElement("span",{id:"profile-active"},"Active"))),l.createElement(Ce,{onClick:ae},"로그아웃")))),l.createElement(Ze,null,l.createElement(_e,null,null==J||null===(e=J.Workspaces)||void 0===e?void 0:e.map((function(e){return l.createElement(v.rU,{key:e.id,to:"/workspace/".concat(e.url,"/channel/일반")},l.createElement(ze,null,e.name.slice(0,1).toUpperCase()))})),l.createElement(Me,{onClick:le},"+")),l.createElement(Ae,null,l.createElement(je,{onClick:de},null==J||null===(t=J.Workspaces)||void 0===t||null===(n=t.find((function(e){return e.url===K})))||void 0===n?void 0:n.name),l.createElement(Ie,null,l.createElement(D,{show:N,onCloseModal:de,style:{top:95,left:80}},l.createElement(Oe,null,l.createElement("h2",null,null==J||null===(r=J.Workspaces)||void 0===r||null===(a=r.find((function(e){return e.url===K})))||void 0===a?void 0:a.name),l.createElement("button",{onClick:ce},"워크스페이스에 사용자 초대"),l.createElement("button",{onClick:ie},"채널 만들기"),l.createElement("button",{onClick:ae},"로그아웃"))),l.createElement(A,null),l.createElement(C,null))),l.createElement(Te,null,l.createElement(p.rs,null,l.createElement(p.AW,{path:"/workspace/:workspace/channel/:channel",component:me}),l.createElement(p.AW,{path:"/workspace/:workspace/dm/:id",component:xe})))),l.createElement(i,{show:h,onCloseModal:se},l.createElement("form",{onSubmit:oe},l.createElement(s.__,{id:"workspace-label"},l.createElement("span",null,"워크스페이스 이름"),l.createElement(s.II,{id:"workspace",value:R,onChange:F})),l.createElement(s.__,{id:"workspace-url-label"},l.createElement("span",null,"워크스페이스 url"),l.createElement(s.II,{id:"workspace-url",value:L,onChange:V})),l.createElement(s.zx,{type:"submit"},"생성하기"))),l.createElement(g,{show:j,onCloseModal:se,setShowCreateChannelModal:O}),l.createElement(T,{show:x,onCloseModal:se,setShowInviteWorkspaceModal:w}),l.createElement(I,{show:S,onCloseModal:se,setShowInviteChannelModal:Z}),l.createElement(f.Ix,{position:"bottom-center"}))}}}]);